version: v2.1
generated_module: governance_demo_types

entities:
  GovernanceRule:
    description: "Governance rule definition"
    fields:
      id: {type: str, unique: true}
      description: {type: str}
      severity: {enum: [error, warning, info], default: error}
      scope: {type: str}
      forbids: {type: str, nullable: true}
      ensures: {type: str, nullable: true}

rules:
  - id: "no-print"
    description: "Use logger instead of print"
    severity: "error"
    scope: "**/*.py"
    excludes: ["scripts/*", "tests/*"]
    forbids: "node.is_call_to('print')"

  - id: "api-typed-responses"
    severity: "error"
    description: "API routes must return Pydantic models"
    scope: "src/api/**/*.py"
    ensures: "return_type.is_subclass_of(BaseModel)"
